datasource db {
    provider = "sqlite"
    url      = "file:dev.db"
}

generator client {
    // Corresponds to the cargo alias created earlier
    provider = "cargo prisma"
    // The location to generate the client. Is relative to the position of the schema
    output   = "../crates/pontos/src/storage/prisma.rs"
}

model Token {
    id                      String  @id @default(cuid())
    address                 String
    token_id                String
    padded_token_id         String
    owner                   String
    mint_address            String?
    mint_timestamp          Int?
    mint_transaction_hash   String?
    mint_block_number       Int?
    indexer_version         String?
    indexed_at_block_number Int

    @@unique([address, token_id])
}

model Event {
    id                      String @id @default(cuid())
    event_id                String @unique
    timestamp               Int
    from_address            String
    to_address              String
    contract_address        String
    transaction_hash        String
    token_id                String
    padded_token_id         String
    block_number            Int
    contract_type           String
    event_type              String
    indexer_version         String?
    indexed_at_block_number Int
}

model Collection {
    id                      String @id @default(cuid())
    contract_address        String @unique
    type                    String
    indexer_version         String?
    indexed_at_block_number Int
}

model Block {
    id                      String @id @default(cuid())
    number                  Int    @unique
    indexer_version         String
    indexer_identifier      String
    status                  String
    indexed_at_block_number Int
}
